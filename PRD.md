
# 产品需求文档 (PRD) - 四象限代办清单 (Eisenhower Matrix To-Do)

**版本**: v1.1.0  
**日期**: 2024-05-24  
**作者**: 志豪  
**状态**: 迭代中

---

## 1. 产品概述

### 1.1 产品背景
在信息过载的现代生活中，人们往往面临任务繁重、优先级混乱的问题。基于“艾森豪威尔矩阵”理论，本应用旨在通过直观的四象限分类，帮助用户区分“重要”与“紧急”，从而提升时间管理效率。同时结合极简的玻璃拟态（Glassmorphism）视觉风格与本地化数据存储，提供安全、美观且高效的使用体验。

### 1.2 核心价值
*   **视觉聚焦**：通过颜色和布局强制用户思考任务优先级。
*   **数据安全**：基于 IndexedDB 的纯本地存储，无隐私泄露风险。
*   **心流体验**：流畅的动画、拖拽交互与“闪念”功能，减少操作阻力。
*   **复盘分析**：强大的历史回顾与日历视图，辅助用户进行周期性复盘。

---

## 2. 功能模块详解

### 2.1 首页 (Dashboard)
*   **四象限视图**：
    *   **Q1 重要且紧急 (红色)**：必须马上做的任务。
    *   **Q2 重要不紧急 (绿色)**：核心任务，需计划时间做。支持拖拽排序。
    *   **Q3 不重要不紧急 (黄色)**：尽量减少或委托。
    *   **Q4 紧急不重要 (蓝色)**：琐事，避免干扰。
    *   **交互**：
        *   点击象限空白处或标题旁的数字可新建任务至该象限。
        *   支持将任务在不同象限间拖拽流转。
        *   支持任务卡片内的进度调整（20%步进）、勾选完成、展开查看子任务。
*   **中央控制区**：
    *   **闪念输入框 (Quick Note)**：快速捕捉灵感或临时想法，按 Enter 存入右侧流中。
    *   **瀑布流展示**：
        *   **左侧流**：展示已完成的任务，给予成就感反馈。
        *   **右侧流**：展示闪念笔记，作为备忘池。
        *   **中央滚动流**：循环展示闪念或励志语录。
    *   **功能按钮**：左侧“新建任务”，右侧“历史记录”。

### 2.2 任务管理 (Task Management)
*   **新建/编辑弹窗**：
    *   **基础信息**：标题、详细描述（支持自动高度）。
    *   **子任务 (Checklist)**：支持添加、删除、完成状态切换。
    *   **日期选择**：
        *   自定义日历组件，显示农历、节气、节日信息。
        *   支持月份切换，高亮显示今天。
    *   **分类标签**：预设6种标签（工作、学习、生活等），支持颜色区分。
    *   **优先级选择**：大卡片形式选择四象限，视觉强化。
*   **任务卡片**：
    *   显示标题、标签、日期（默认视图）。
    *   进度条：5段式进度条，支持点击直接调整进度。
    *   折叠/展开：查看详情、备注及子任务。
    *   快捷操作：完成（带删除线动画）、删除。

### 2.3 历史回顾 (History & Analytics)
*   **列表视图 (List View)**：
    *   **多维筛选**：
        *   **时间维度**：按日、按周、按月、按年。
        *   **时间导航**：支持切换上一个/下一个时间段（如“上周”、“2023年5月”）。
        *   **状态维度**：全部、待办、已完成。
    *   **数据展示**：
        *   任务列表按日期降序排列。
        *   点击任务标题可直接弹出编辑框修改历史任务。
*   **日历视图 (Calendar View)**：
    *   **月视图**：
        *   网格化展示每日。
        *   显示公历日期、农历/节气/节日。
        *   **红绿点指示**：日期格底部通过红点（未完成）和绿点（已完成）显示当日任务概况。
    *   **详情侧栏**：
        *   点击日历某一天，右侧侧栏显示当日所有任务详情。
        *   支持在侧栏直接操作任务（完成/编辑/删除）。
*   **数据管理**：
    *   **导出**：生成包含任务列表和闪念笔记的 `.json` 备份文件。
    *   **导入**：解析备份文件，智能合并至本地数据库。
    *   **统计**：显示当前筛选范围内的任务总数及完成情况。

### 2.4 关于与设置
*   **作者弹窗**：
    *   显示应用名称及 LOGO。
    *   显示当前版本号 (vX.X.X)。
    *   作者联系方式 (微信/邮箱)。
*   **数据同步状态**：
    *   右上角实时显示数据保存状态（同步中/已同步），增强安全感。

---

## 3. 技术架构与规范

### 3.1 技术栈
*   **框架**：React 18+ (Hooks 风格)。
*   **构建工具**：Vite。
*   **样式**：Tailwind CSS (主打 Glassmorphism 风格)。
*   **存储**：IndexedDB (原生 API 封装)，无需后端服务器。
*   **图标库**：Lucide React。

### 3.2 数据结构
*   **Task (任务)**：
    *   `id`: UUID
    *   `quadrant`: Q1/Q2/Q3/Q4
    *   `progress`: 0-100
    *   `subtasks`: Array
    *   `tag`: Enum
*   **QuickNote (闪念)**：
    *   `id`: UUID
    *   `content`: String
    *   `createdAt`: Timestamp

### 3.3 性能优化
*   **虚拟列表**：(未来规划) 当任务超过 1000 条时引入。
*   **Web Worker**：(未来规划) 处理大规模数据的导出导入。
*   **层级管理**：严格管理 Modal 的 `zIndex`，确保编辑弹窗始终覆盖在历史弹窗之上。

---

## 4. 更新日志 (Changelog)
见 `CHANGELOG.md` 文件。
